# Quick Start - Deploy Without Encrypting First (For Testing)

Since Ansible on Windows has some compatibility issues, here's an alternative approach:

## Option 1: Skip Encryption for Now (Testing Only)

For initial testing, you can temporarily skip the vault encryption. The playbook will still work, but secrets will be in plain text.

**⚠️ WARNING: Only use this for testing on a development/test EC2 instance!**

Edit `deploy/ansible/site.yml` and comment out the vault file:

```yaml
---
- name: Provision Expense Tracker
  hosts: expense_tracker
  become: true
  gather_facts: true
  # vars_files:
  #   - inventory/group_vars/all.vault.yml

  roles:
    - common
    - { role: mongo, when: not mongo_use_atlas }
    - backend
    - frontend
```

And in `deploy/ansible/roles/backend/templates/env.server.j2`, change to use direct variables instead of vault:

```jinja2
# Generated by Ansible
PORT={{ backend_port }}
CLIENT_URL=http://{{ public_domain }}
MONGO_URL=mongodb+srv://nithinrokkam:nithin%40123@expense.phrfek3.mongodb.net/expense-tracker?retryWrites=true&w=majority
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
```

## Option 2: Encrypt Using WSL

1. In your terminal, enter WSL:
   ```powershell
   wsl
   ```

2. Install Ansible in WSL (you'll need your WSL password):
   ```bash
   sudo apt update
   sudo apt install -y ansible
   ```

3. Navigate to the project (Windows files are at /mnt/c/...):
   ```bash
   cd /mnt/c/Users/nithi/OneDrive/Desktop/CSE/Expense-Tracker/deploy/ansible
   ```

4. Encrypt the vault:
   ```bash
   ansible-vault encrypt inventory/group_vars/all.vault.yml
   ```

5. Exit WSL:
   ```bash
   exit
   ```

## Option 3: Use a Linux VM or Remote Server

If you have access to a Linux machine, you can:
1. Copy the `deploy/ansible` folder there
2. Encrypt the vault file
3. Copy it back

## Recommended: Use WSL (Option 2)

Once encrypted, you can run the playbook from Windows PowerShell normally.

